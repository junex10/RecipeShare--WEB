{"ast":null,"code":"import { throwError } from \"rxjs\";\nimport { catchError, tap } from 'rxjs/operators';\nimport Swal from 'sweetalert2';\nimport { SwalAlerts } from 'src/app/shared';\nexport class ErrorInterceptor {\n  intercept(req, next) {\n    return next.handle(req).pipe(tap(err => {\n      if (err.body?.error) {\n        const error = err?.body.error;\n        Swal.fire(SwalAlerts.swalError('Error', error));\n        return throwError(error);\n      } else return null;\n    }), catchError(err => {\n      const error = err.message || err.statusText || err?.error?.error;\n      Swal.fire(SwalAlerts.swalError('Error', err?.error?.error));\n      return throwError(error);\n    }));\n  }\n}","map":{"version":3,"names":["throwError","catchError","tap","Swal","SwalAlerts","ErrorInterceptor","intercept","req","next","handle","pipe","err","body","error","fire","swalError","message","statusText"],"sources":["C:\\Projects\\RecipesSharer\\web\\src\\app\\helpers\\interceptors\\error.interceptor.ts"],"sourcesContent":["import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from \"@angular/common/http\";\r\nimport { Observable, throwError } from \"rxjs\";\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport Swal from 'sweetalert2';\r\nimport {\r\n    SwalAlerts\r\n} from 'src/app/shared';\r\n\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n\r\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        return next.handle(req).pipe(\r\n            tap((err: any) => {\r\n                if (err.body?.error) {\r\n                    const error = err?.body.error;\r\n                    Swal.fire(SwalAlerts.swalError('Error', error));\r\n                    return throwError(error);\r\n                } \r\n                else return null;\r\n            }),\r\n            catchError(err => {\r\n                const error = err.message || err.statusText || err?.error?.error;\r\n                Swal.fire(SwalAlerts.swalError('Error', err?.error?.error));\r\n                return throwError(error);\r\n            })\r\n        );\r\n    }\r\n}"],"mappings":"AACA,SAAqBA,UAAU,QAAQ,MAAM;AAC7C,SAASC,UAAU,EAAEC,GAAG,QAAQ,gBAAgB;AAChD,OAAOC,IAAI,MAAM,aAAa;AAC9B,SACIC,UAAU,QACP,gBAAgB;AAEvB,OAAM,MAAOC,gBAAgB;EAEzBC,SAASA,CAACC,GAAqB,EAAEC,IAAiB;IAC9C,OAAOA,IAAI,CAACC,MAAM,CAACF,GAAG,CAAC,CAACG,IAAI,CACxBR,GAAG,CAAES,GAAQ,IAAI;MACb,IAAIA,GAAG,CAACC,IAAI,EAAEC,KAAK,EAAE;QACjB,MAAMA,KAAK,GAAGF,GAAG,EAAEC,IAAI,CAACC,KAAK;QAC7BV,IAAI,CAACW,IAAI,CAACV,UAAU,CAACW,SAAS,CAAC,OAAO,EAAEF,KAAK,CAAC,CAAC;QAC/C,OAAOb,UAAU,CAACa,KAAK,CAAC;MAC5B,CAAC,MACI,OAAO,IAAI;IACpB,CAAC,CAAC,EACFZ,UAAU,CAACU,GAAG,IAAG;MACb,MAAME,KAAK,GAAGF,GAAG,CAACK,OAAO,IAAIL,GAAG,CAACM,UAAU,IAAIN,GAAG,EAAEE,KAAK,EAAEA,KAAK;MAChEV,IAAI,CAACW,IAAI,CAACV,UAAU,CAACW,SAAS,CAAC,OAAO,EAAEJ,GAAG,EAAEE,KAAK,EAAEA,KAAK,CAAC,CAAC;MAC3D,OAAOb,UAAU,CAACa,KAAK,CAAC;IAC5B,CAAC,CAAC,CACL;EACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}