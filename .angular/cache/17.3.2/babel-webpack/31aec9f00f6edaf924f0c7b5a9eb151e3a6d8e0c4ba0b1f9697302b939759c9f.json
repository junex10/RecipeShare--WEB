{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"src/app/shared\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/select\";\nimport * as i7 from \"@angular/material/core\";\nconst _c0 = () => ({\n  \"font-size\": \"20px\"\n});\nconst _c1 = () => ({\n  \"position\": \"relative\",\n  \"top\": \"100px\"\n});\nfunction AppointmentsListComponent_mat_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r1.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r1.name, \" \");\n  }\n}\nexport class AppointmentsListComponent {\n  constructor(fb, auth, appointments) {\n    this.fb = fb;\n    this.auth = auth;\n    this.appointments = appointments;\n    this.appointmentsTable = {\n      data: [],\n      total: 0,\n      header: ['#', 'Nombre', 'Apellido', 'Razón de la cita', 'Descripción', 'Monto', 'Estatus', 'Fecha de la cita', 'Fecha de entrada'],\n      page: 1\n    };\n    this.user = this.auth.getUser()?.user;\n    this.options = [{\n      value: 1,\n      name: 'Todos'\n    }, {\n      value: 2,\n      name: 'Por asociados'\n    }, {\n      value: 3,\n      name: 'Personales'\n    }];\n    this.getAppointments = (page, value) => {\n      this.appointments.get({\n        user_id: this.user.id,\n        page,\n        filterType: value\n      }).subscribe(item => {\n        this.appointmentsTable.data = item.data.rows;\n        this.appointmentsTable.total = item.data.count;\n      });\n    };\n    this.filter = this.fb.group({\n      formOptions: [null]\n    });\n  }\n  ngOnInit() {\n    this.getAppointments(this.appointmentsTable.page, this.getFormOptions);\n  }\n  get getFormOptions() {\n    return this.filter.get('formOptions')?.value;\n  }\n  static #_ = this.ɵfac = function AppointmentsListComponent_Factory(t) {\n    return new (t || AppointmentsListComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i2.AppointmentsService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppointmentsListComponent,\n    selectors: [[\"app-appointments-list\"]],\n    decls: 16,\n    vars: 6,\n    consts: [[1, \"g-sidenav-show\", \"bg-gray-200\", \"h-100\"], [1, \"main-content\", \"position-relative\", \"max-height-vh-100\", \"h-100\"], [\"id\", \"navbarBlur\", \"navbar-scroll\", \"true\", 1, \"navbar\", \"navbar-main\", \"navbar-expand-lg\", \"px-0\", \"mx-4\", \"shadow-none\", \"border-radius-xl\"], [1, \"container-fluid\", \"py-1\", \"px-3\"], [\"aria-label\", \"breadcrumb\"], [1, \"font-weight-bolder\", \"mb-0\", 3, \"ngStyle\"], [1, \"container-fluid\", \"px-2\", \"px-md-4\", 3, \"ngStyle\"], [1, \"col-12\"], [\"autocomplete\", \"off\", 3, \"formGroup\"], [\"appearance\", \"standard\", 1, \"input\"], [\"formControlName\", \"formOptions\", \"required\", \"\", 3, \"selectionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n    template: function AppointmentsListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"nav\", 2)(4, \"div\", 3)(5, \"nav\", 4)(6, \"h1\", 5);\n        i0.ɵɵtext(7, \"Listado de Citas M\\u00E9dicas \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7)(10, \"form\", 8)(11, \"mat-form-field\", 9)(12, \"mat-label\");\n        i0.ɵɵtext(13, \"Filtro\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"mat-select\", 10);\n        i0.ɵɵlistener(\"selectionChange\", function AppointmentsListComponent_Template_mat_select_selectionChange_14_listener() {\n          return ctx.getAppointments(ctx.appointmentsTable.page, ctx.getFormOptions);\n        });\n        i0.ɵɵtemplate(15, AppointmentsListComponent_mat_option_15_Template, 2, 2, \"mat-option\", 11);\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(4, _c0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(5, _c1));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.filter);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.options);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgStyle, i4.HeaderComponent, i5.MatFormField, i5.MatLabel, i6.MatSelect, i7.MatOption, i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\".option[_ngcontent-%COMP%]{\\n    margin-left: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvd2ViL3BhZ2VzL2RvY3Rvci9hcHBvaW50bWVudHMvYXBwb2ludG1lbnRzLWxpc3QvYXBwb2ludG1lbnRzLWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtBQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIi5vcHRpb257XHJcbiAgICBtYXJnaW4tbGVmdDogMjBweDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","item_r1","value","ɵɵadvance","ɵɵtextInterpolate1","name","AppointmentsListComponent","constructor","fb","auth","appointments","appointmentsTable","data","total","header","page","user","getUser","options","getAppointments","get","user_id","id","filterType","subscribe","item","rows","count","filter","group","formOptions","ngOnInit","getFormOptions","_","ɵɵdirectiveInject","i1","FormBuilder","i2","AuthService","AppointmentsService","_2","selectors","decls","vars","consts","template","AppointmentsListComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","AppointmentsListComponent_Template_mat_select_selectionChange_14_listener","ɵɵtemplate","AppointmentsListComponent_mat_option_15_Template","ɵɵpureFunction0","_c0","_c1"],"sources":["C:\\Projects\\RecipesSharer\\web\\src\\app\\web\\pages\\doctor\\appointments\\appointments-list\\appointments-list.component.ts","C:\\Projects\\RecipesSharer\\web\\src\\app\\web\\pages\\doctor\\appointments\\appointments-list\\appointments-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { DataTableDTO } from 'src/app/dtos';\r\nimport { \r\n  AuthService,\r\n  AppointmentsService\r\n} from 'src/app/services';\r\n\r\n@Component({\r\n  selector: 'app-appointments-list',\r\n  templateUrl: './appointments-list.component.html',\r\n  styleUrls: ['./appointments-list.component.css']\r\n})\r\nexport class AppointmentsListComponent implements OnInit {\r\n\r\n  filter: FormGroup;\r\n\r\n  appointmentsTable: DataTableDTO = {\r\n    data: [],\r\n    total: 0,\r\n    header: ['#', 'Nombre', 'Apellido', 'Razón de la cita', 'Descripción', 'Monto', 'Estatus', 'Fecha de la cita', 'Fecha de entrada'],\r\n    page: 1\r\n  };\r\n\r\n  user = this.auth.getUser()?.user;\r\n\r\n  options = [\r\n    { value: 1, name: 'Todos' },\r\n    { value: 2, name: 'Por asociados' },\r\n    { value: 3, name: 'Personales' }\r\n  ];\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private auth: AuthService,\r\n    private appointments: AppointmentsService\r\n  ) { \r\n    this.filter = this.fb.group({\r\n      formOptions: [null]\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getAppointments(this.appointmentsTable.page, this.getFormOptions);\r\n  }\r\n\r\n  getAppointments = (page: number, value: number) => {\r\n    this.appointments.get({ user_id: this.user.id, page, filterType: value }).subscribe(\r\n      (item) => {\r\n        this.appointmentsTable.data = item.data.rows;\r\n        this.appointmentsTable.total = item.data.count;\r\n      }\r\n    )\r\n  }\r\n\r\n  get getFormOptions() { return this.filter.get('formOptions')?.value }\r\n\r\n}\r\n","<app-header></app-header>\r\n<div class=\"g-sidenav-show bg-gray-200 h-100\">\r\n    <div class=\"main-content position-relative max-height-vh-100 h-100\">\r\n        <!-- Navbar -->\r\n        <nav class=\"navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl\" id=\"navbarBlur\"\r\n            navbar-scroll=\"true\">\r\n            <div class=\"container-fluid py-1 px-3\">\r\n                <nav aria-label=\"breadcrumb\">\r\n                    <h1 class=\"font-weight-bolder mb-0\" [ngStyle]=\"{'font-size': '20px'}\">Listado de Citas Médicas\r\n                    </h1>\r\n                </nav>\r\n            </div>\r\n        </nav>\r\n        <div class=\"container-fluid px-2 px-md-4\" [ngStyle]=\"{'position': 'relative', 'top': '100px'}\">\r\n            <div class=\"col-12\">\r\n                <form [formGroup]=\"filter\" autocomplete=\"off\">\r\n                    <mat-form-field class=\"input\" appearance=\"standard\">\r\n                        <mat-label>Filtro</mat-label>\r\n                        <mat-select formControlName=\"formOptions\" (selectionChange)=\"getAppointments(appointmentsTable.page, getFormOptions)\" required>\r\n                            <mat-option *ngFor=\"let item of options\"\r\n                                [value]=\"item.value\">\r\n                                {{ item.name }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}