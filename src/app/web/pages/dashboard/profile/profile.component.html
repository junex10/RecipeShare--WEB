<app-modal
    title="Editar perfil"
    [showModal]="openEditModal"
    (close)="this.openEditModal = false"
    [styles]="editUserStyle"
    acceptButton="Enviar"
    (accept)="submit()"
>
    <ng-container>
        <form [formGroup]="form" autocomplete="off">
            <div class="row">
                <div class="col-12">
                    <img class="user d-block m-auto" [src]="userImage">
                    <app-upload-file
                    (file)="onImage($event)"
                    ></app-upload-file>
                </div>
                <hr class="line" />
                <div class="col-12">
                    <mat-form-field class="input" appearance="standard">
                        <mat-label>Email</mat-label>
                        <input matInput formControlName="email" name="email" required type="email">
                        <mat-icon matSuffix>alternate_email</mat-icon>
                    </mat-form-field>
                </div>
                <div class="col-12 col-sm-12 col-md-6 col-lg-6">
                    <mat-form-field class="input" appearance="standard">
                        <mat-label>Name</mat-label>
                        <input matInput formControlName="name" name="name" required type="text">
                        <mat-icon matSuffix>person</mat-icon>
                    </mat-form-field>
                </div>
                <div class="col-12 col-sm-12 col-md-6 col-lg-6">
                    <mat-form-field class="input" appearance="standard">
                        <mat-label>Lastname</mat-label>
                        <input matInput formControlName="lastname" name="lastname" required="false" type="text">
                        <mat-icon matSuffix>person</mat-icon>
                    </mat-form-field>
                </div>
            </div>
        </form>
    </ng-container>
</app-modal>
<div class="app-container">
	<app-sidebar 
		[profile]="true"
	></app-sidebar>
	<div class="g-sidenav-show bg-gray-200">
		<div class="main-content position-relative max-height-vh-100 h-100">
			
			<div class="container-fluid px-2 px-md-4">
				<div class="page-header min-height-300 border-radius-xl mt-4"
					style="background-image: url('assets/img/bg-img/bg4.jpg');">
					<span class="mask  bg-gradient-primary  opacity-6"></span>
				</div>
				<div class="card card-body mx-3 mx-md-4 mt-n6">
					<div class="row gx-4 mb-2">
						<div class="col-auto">
							<div class="avatar avatar-xl position-relative">
								<img [src]="user.photo ?? 'assets/img/user.png'" alt="profile_image" class="w-100 border-radius-lg shadow-sm">
							</div>
						</div>
						<div class="col-auto my-auto">
							<div class="h-100">
								<h5 class="mb-1">
									{{ user.person?.name || user.email }}
								</h5>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="row">
							<div class="col-12">
								<div class="card card-plain h-100">
									<div class="card-header pb-0 p-3">
										<div class="row">
											<div class="col-md-8 d-flex align-items-center">
												<h6 class="mb-0">Profile</h6>
											</div>
											<div class="col-md-4 text-end">
												<a (click)="openEdit()" [ngStyle]="{'cursor': 'pointer'}">
													<i class="fas fa-user-edit text-secondary text-sm"
														data-bs-toggle="tooltip" data-bs-placement="top"
														title="Edit Profile"></i>
												</a>
											</div>
										</div>
									</div>
									<div class="card-body p-3">
										<hr class="horizontal gray-light my-4">
										<ul class="list-group">
											<li class="list-group-item border-0 ps-0 pt-0 text-sm"><strong
													class="text-dark">Name:</strong> &nbsp; {{ user.person?.name || user.email }} {{ user.person?.lastname }}</li>
											<li class="list-group-item border-0 ps-0 text-sm"><strong
													class="text-dark">Email:</strong> &nbsp; {{ user.email }}</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
